<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ecsy-input webgl - geometry - cube</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
  </head>
  <body>
    <script type="module">
      import { Component, System, World } from "ecsy"
      import { initializeInputSystems } from "../dist/ecsy-input.module.js"

      const Axes = {
        SCREENXY: 0,
        DPADONE: 1,
        DPADTWO: 2,
        MOVEMENT_IDLE: 0,
        MOVEMENT_WALKING_FORWARD: 11,
        MOVEMENT_JOGGING_FORWARD: 12,
        MOVEMENT_RUNNING_FORWARD: 13,
        MOVEMENT_WALKING_BACKWARD: 14,
        MOVEMENT_JOGGING_BACKWARD: 15,
        MOVEMENT_STRAFING_RIGHT: 16,
        MOVEMENT_STRAFING_LEFT: 17,
        MOVEMENT_RUNNING_BACKWARD: 18
      }

      const Actions = {
        DEFAULT: -1,
        PRIMARY: 0,
        SECONDARY: 1,
        FORWARD: 2,
        BACKWARD: 3,
        UP: 4,
        DOWN: 5,
        LEFT: 6,
        RIGHT: 7,
        INTERACT: 8,
        CROUCH: 9,
        JUMP: 10,
        WALK: 11,
        RUN: 12,
        SPRINT: 13
      }

      const Axes = {
        SCREENXY: 0,
        DPADONE: 1,
        DPADTWO: 2
      }

      const AxisMap = {
        [Axes.SCREENXY]: { x: 0, y: 0 },
        [Axes.DPADONE]: { x: 0, y: 0 },
        [Axes.DPADTWO]: { x: 0, y: 0 }
      }

      const ActionMap = {
        [Actions.FORWARD]: { opposes: [Actions.BACKWARD] },
        [Actions.BACKWARD]: { opposes: [Actions.FORWARD] },
        [Actions.LEFT]: { opposes: [Actions.RIGHT] },
        [Actions.RIGHT]: { opposes: [Actions.LEFT] }
      }

      const KeyboardInputMap = {
        w: Actions.FORWARD,
        a: Actions.LEFT,
        s: Actions.RIGHT,
        d: Actions.BACKWARD
      }

      const MouseInputActionMap = {
        0: Actions.PRIMARY,
        2: Actions.SECONDARY, // Right mouse
        1: Actions.INTERACT // Middle Mouse button
      }

      const MouseInputAxisMap = {
        mousePosition: Axes.SCREENXY
      }

      // Test input
      const inputOptions = {
        mouse: true,
        keyboard: true,
        touchscreen: true,
        gamepad: true,
        debug: true
      }

      const world = new World()
      initializeInputSystems(world, inputOptions)
      world.execute()
    </script>
    <div id="actionDataWrapper"><span>Action: </span><span id="actionData"></span></div>
    <div id="axisDataWrapper"><span>Axis: </span><span id="axisData"></span></div>
  </body>
</html>
